<!DOCTYPE html>
<html lang="en">
  <%- include ('./partials/head.ejs') %>
  <link rel="stylesheet" href="/styles/tailwind.css">
  <body class="bg-white h-screen flex flex-col justify-start items-center">

    <%- include('./partials/logoONLY.ejs') %>

    <div class="w-full md:w-1/2 lg:w-1/3 xl:w-1/4 mx-auto overflow-hidden mt-4">
      <div class="flex flex-col p-8">
        <h2 class="text-3xl font-semibold text-black mb-6">Sign Up</h2>

        <% if (locals.errorMessage) { %>
          <div class="bg-red-600 text-white p-4 rounded mb-6 w-full text-center text-base">
            <%= errorMessage %>
          </div>
        <% } %>

        <form action="/signup" method="POST" class="w-full mt-4 space-y-6">
          <div class="flex flex-col">
            <label for="name" class="text-base text-black font-semibold">Name</label>
            <input type="text" name="name" id="name" required class="p-2 rounded bg-gray-200 text-black w-full focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent">
          </div>
          <div class="flex flex-col">
            <label for="email" class="text-base text-black font-semibold">Email</label>
            <input type="email" name="email" id="email" required class="p-2 rounded bg-gray-200 text-black w-full focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent">
          </div>
          <div class="flex flex-col">
            <label for="username" class="text-base text-black font-semibold">Username</label>
            <input type="text" name="username" id="username" required class="p-2 rounded bg-gray-200 text-black w-full focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent">
          </div>
          <div class="flex flex-col">
            <label for="password" class="text-base text-black font-semibold">Password</label>
            <input type="password" name="password" id="password" required class="p-2 rounded bg-gray-200 text-black w-full focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent">
          </div>
          <div class="flex justify-center">
            <button type="submit" id="signupBtn" class="w-full p-2 rounded bg-blue-300 text-white focus:outline-none focus:ring-2 focus:ring-blue-300 focus:ring-opacity-50 cursor-not-allowed opacity-50" disabled>
              Submit
            </button>
          </div>
        </form>

        <div class="flex items-center mt-6">
          <hr class="flex-grow border-gray-400">
          <span class="mx-4 text-black text-sm">Or</span>
          <hr class="flex-grow border-gray-400">
        </div>

        <a href="/login" class="block mt-4 p-2 w-full text-center text-black text-base bg-gray-200 rounded hover:bg-gray-300">
          Login
        </a>
      </div>
    </div>

    <script>
      const nameInput = document.getElementById('name');
      const emailInput = document.getElementById('email');
      const usernameInput = document.getElementById('username');
      const passwordInput = document.getElementById('password');
      const signupBtn = document.getElementById('signupBtn');

      signupBtn.disabled = true;

      function checkInputFields() {
        if (nameInput.value && emailInput.value && usernameInput.value && passwordInput.value) {
          signupBtn.disabled = false;
          signupBtn.classList.remove('cursor-not-allowed', 'opacity-50');
          signupBtn.classList.add('bg-blue-400', 'hover:bg-blue-500', 'cursor-pointer', 'opacity-100');
        } else {
          signupBtn.disabled = true;
          signupBtn.classList.add('cursor-not-allowed', 'opacity-50');
          signupBtn.classList.remove('hover:bg-blue-400', 'cursor-pointer');
        }
      }

      nameInput.addEventListener('input', checkInputFields);
      emailInput.addEventListener('input', checkInputFields);
      usernameInput.addEventListener('input', checkInputFields);
      passwordInput.addEventListener('input', checkInputFields);
    </script>
  </body>
</html>
